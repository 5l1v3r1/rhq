
<ui:composition template="/rhq/group/layout/main.xhtml"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:onf="http://jboss.org/on/function"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

<ui:param name="pageTitle" value="#{ResourceGroupUIBean.groupCategoryName} '#{ResourceGroupUIBean.name}' - Inventory Data"/>
<ui:param name="selectedTabName" value="Inventory.Connection"/>

<ui:define name="content">

<!-- ===================   SHARED PARAMS    =================== -->

<ui:param name="resourceGroupMembersDataModel" value="#{ListResourceGroupMembersUIBean.dataModel}"/>

<!-- =================== GROUP CONNECTION PROPERTIES =================== -->
<rich:panel styleClass="BlockContent"
            rendered="#{resourceGroupMembersDataModel.rowCount > 0 and
                        ResourceGroupUIBean.groupCategoryName == 'COMPATIBLE' and
                        !empty ViewGroupConnectionPropertiesUIBean.configurationDefinition.propertyDefinitions and
                        !empty ViewGroupConnectionPropertiesUIBean.configuration.map}">


   <f:facet name="header" styleClass="BlockTitle">
      Group Connection Properties
   </f:facet>

   <h:form id="viewGroupConnectionPropertiesForm">

      <input type="hidden" name="groupId" value="#{ResourceGroupUIBean.groupId}"/>
      <input type="hidden" name="category" value="#{param.category}"/>

      <onc:config configurationDefinition="#{ViewGroupConnectionPropertiesUIBean.configurationDefinition}"
                  configuration="#{ViewGroupConnectionPropertiesUIBean.configuration}"
                  readOnly="true"
                  nullConfigurationDefinitionMessage="#{ViewGroupConnectionPropertiesUIBean.nullConfigurationDefinitionMessage}"
                  nullConfigurationMessage="#{ViewGroupConnectionPropertiesUIBean.nullConfigurationMessage}"
                  prevalidate="true" />

      <h:panelGrid columns="2" styleClass="buttons-table" columnClasses="button-cell"
                   rendered="#{ResourceGroupUIBean.permissions.inventory}">
         <h:commandButton value="EDIT..." action="#{EditGroupConnectionPropertiesUIBean.begin}"
                          title="Edit Connection Properties" styleClass="buttonmed"/>
         <h:commandButton value="VIEW HISTORY" action="#{ViewGroupConnectionPropertyHistoryUIBean.begin}"
                          title="View History for Group Connection Property Updates" styleClass="buttonmed"/>
      </h:panelGrid>

   </h:form>

</rich:panel>

</ui:define>

</ui:composition>
