<?xml version="1.0"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:onf="http://jboss.org/on/function"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

   <rich:panel styleClass="BlockContent">
      <f:facet name="header">
         Recent Event Counts
      </f:facet>

      <rich:dataTable id="eventsDataTable"
                      rows="0"
                      value="#{ResourceOverviewUIBean.recentEventCounts}"
                      var="item"
                      width="100%"
                      columnsWidth="70%, 30%"
                      headerClass="tableRowHeader"
                      footerClass="on-pager-footer"
                      onRowMouseOver="this.style.backgroundColor='#E7E7E7'"
                      onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'">

         <rich:column>
            <f:facet name="header">
               <h:outputText styleClass="headerText" value="Event Severity" />
            </f:facet>
            <h:outputText value="#{item.lefty}" />
         </rich:column>

         <rich:column>
            <f:facet name="header">
               <h:outputText styleClass="headerText" value="Count" />
            </f:facet>
            <h:outputText value="#{item.righty}" />
         </rich:column>

          <f:facet name="footer">
             <rich:columnGroup>
                <rich:column colspan="2" width="100%">
                   <h:outputText value="Up to 100 items are shown, grouped by severity" 
                                 rendered="#{onf:sizeOf(ResourceOverviewUIBean.recentEventCounts) ne 0}"/>
                   <h:outputText value="This resource has no event history" 
                                 rendered="#{onf:sizeOf(ResourceOverviewUIBean.recentEventCounts) eq 0}"/>
                </rich:column>
             </rich:columnGroup>
          </f:facet>

      </rich:dataTable>
   </rich:panel>

</ui:composition>
