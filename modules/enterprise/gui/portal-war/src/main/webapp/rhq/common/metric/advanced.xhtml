<?xml version="1.0"?>

<!DOCTYPE html
      PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://java.sun.com/jsf/html" 
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component" 
      xmlns:onf="http://jboss.org/on/function"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax" 
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

    <ui:composition template="/rhq/layout/popup.xhtml">
        
        <ui:define name="body-area">
            <h:form>
                <rich:panel styleClass="BlockContent">
                    <f:facet name="header">
                        <h:outputText value="#{msg['resource.common.monitor.visibility.MetricDisplayRangeTab']}" />
                    </f:facet>
    
                    <h:messages showSummary="true"
                             showDetail="true"
                              infoClass="InfoBlock"
                              warnClass="WarnBlock"
                             errorClass="ErrorBlock"
                             fatalClass="FatalBlock"
                             globalOnly="true"
                                 layout="table"
                                  width="100%"/>
                    <table>
                        <tr>
                            <td rowspan="5" class="BlockLabel">#{msg['resource.common.monitor.visibility.DefineRangeLabel']}</td>
                            <td class="BlockContent">
                                <table>
                                    <tr>
                                        <td>
                                            <h:selectOneRadio id="metricType" value="#{AdvancedMetricSettingsUIBean.metricType}" name="durationRadio" layout="pageDirection">
                                                <f:selectItem id="durationMetricType" itemValue="duration" itemLabel="#{msg['resource.common.monitor.visibility.metricsToolbar.Last']}  " />
                                                <f:selectItem id="intervalMetricType" itemValue="interval" itemLabel="Within a date range " />
                                            </h:selectOneRadio>            
                                        </td>
                                        <td>
                                            <h:inputText id="duration" size="2" value="#{AdvancedMetricSettingsUIBean.duration}"/>
                                        </td>
                                        <td>
                                            <h:selectOneMenu id="unit" value="#{AdvancedMetricSettingsUIBean.unit}">
                                                <f:selectItem id="mu" itemLabel="#{msg['resource.common.monitor.visibility.metricsToolbar.Minutes']}" itemValue="60000" />
                                                <f:selectItem id="hu" itemLabel="#{msg['resource.common.monitor.visibility.metricsToolbar.Hours']}" itemValue="36000000" />
                                                <f:selectItem id="du" itemLabel="#{msg['resource.common.monitor.visibility.metricsToolbar.Days']}" itemValue="864000000" />
                                            </h:selectOneMenu> 
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>                      
                        <tr>
                            <td>
                                <table>
                                    <tr>
                                        <td>From:</td>
                                        <td>
                                            <rich:calendar id="fromDate" datePattern="dd/MMM/yyyy HH:mm" value="#{AdvancedMetricSettingsUIBean.fromTime}"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td> 
                                            To:
                                        </td>
                                        <td>
                                            <rich:calendar id="toDate" datePattern="dd/MMM/yyyy HH:mm" value="#{AdvancedMetricSettingsUIBean.toTime}"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td>These settings will be persistent for all Monitoring pages within RHQ.</td>
                        </tr>
                        <tr>                        
                            <td>
                                <table>
                                    <tr>                        
                                        <td><input type="reset" class="on-pager-button buttonsmall"/></td>
                                        <td><input type="button" id="cancelBtn" value="Cancel" class="on-pager-button buttonsmall" onclick="javascript:window.close();"/></td>
                                        <td>
                                            <h:commandButton action="#{AdvancedMetricSettingsUIBean.execute}" value="Ok" styleClass="on-pager-button buttonsmall"/>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </rich:panel>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
