<?xml version="1.0"?>

<!DOCTYPE html
      PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:onf="http://jboss.org/on/function">

THIS TEXT WILL BE REMOVED.

The template for all Resource Group pages (i.e. the Monitor/Inventory/etc. tabbed pages).

TEMPLATE PARAMETERS:
content - the page content

CONTEXT PARAMETERS:
pageTitle - the page title
pageHelpURL - a context-sensitive help URL for the page (optional)
selectedTabName - the name of the tab/subTab to select in the following format: tabName[.subtabName]
(e.g. "Inventory" or "Monitor.Visibility")

REQUEST PARAMETERS:
groupId - the id of the ResourceGroup being accessed

<ui:composition template="${(param.category eq 'COMPATIBLE') ? '/rhq/entity/layout/main.xhtml' : '/rhq/entity/layout/main-wide.xhtml'}">

THIS TEXT WILL BE REMOVED AS WELL.

<ui:param name="defaultPageTitle" value="#{ResourceGroupUIBean.typeName} '#{ResourceGroupUIBean.name}'"/>

<ui:define name="breadcrumbs">

   <h:outputLink value="/rhq/group/inventory/view.xhtml">
      <f:param name="groupId" value="#{ResourceGroupUIBean.groupId}"/>
      <f:param name="mode" value="view"/>
      <f:param name="category" value="#{param.category}"/>
      <h:outputText value="#{ResourceGroupUIBean.name}"/>
   </h:outputLink>

</ui:define>

<ui:define name="summary">

   <ui:remove>
      <!-- NOTE: Besides being included here, summary.xhtml is also leveraged by JSP-based pages. Specifically, it is
                 included (via an AJAX request) in /common/components/PageTitle.jsp. -->
   </ui:remove>
   <ui:include src="/rhq/group/layout/summary.xhtml"/>

</ui:define>

<ui:define name="tabBar">

   <onc:tabBar selectedTabName="#{selectedTabName}">

      <f:param name="groupId" value="#{param.groupId}"/>
      <f:param name="category" value="#{param.category}"/>

      <onc:tab name="Monitor" rendered="#{monitorEnabled and param.category eq 'COMPATIBLE'}">
         <onc:subtab name="Visibility" url="/resource/group/monitor/Visibility.do">
            <f:param name="mode" value="currentHealth"/>
         </onc:subtab>
         <onc:subtab name="Configure" url="/resource/common/monitor/Config.do">
            <f:param name="mode" value="configure"/>
         </onc:subtab>
      </onc:tab>
      
      <onc:tab name="Monitor+" rendered="#{param.category eq 'COMPATIBLE'}">
         <onc:subtab name="Graphs" url="/rhq/group/monitor/graphs.xhtml"/>
         <onc:subtab name="Tables" url="/rhq/group/monitor/tables.xhtml"/>
         <onc:subtab name="Schedules" url="/rhq/group/monitor/schedules.xhtml"/>
      </onc:tab>
      
      <onc:tab name="Events" rendered="#{param.category eq 'COMPATIBLE'}">
         <onc:subtab name="History" url="/rhq/group/events/history.xhtml"/>
      </onc:tab>

      <onc:tab name="Inventory" url="/rhq/group/inventory/view.xhtml"/>
      
      <onc:tab name="Operations" rendered="#{param.category eq 'COMPATIBLE'}">
         <onc:subtab name="New" url="/rhq/group/operation/groupOperationScheduleNew.xhtml"/>
         <onc:subtab name="Schedules" url="/rhq/group/operation/groupOperationSchedules.xhtml"/>
         <onc:subtab name="History" url="/rhq/group/operation/groupOperationHistory.xhtml"/>
      </onc:tab>
      
   </onc:tabBar>
   
   <!-- Shows the results of the last action executed. -->
   <h:messages showSummary="true"
               showDetail="true"
               infoClass="InfoBlock"
               warnClass="WarnBlock"
               errorClass="ErrorBlock"
               fatalClass="FatalBlock"
               globalOnly="true"
               layout="table"
               width="100%"/>

</ui:define>

	<ui:define name="nav">
	   <h:form id="leftNaveTogglePanelForm">
            <input type="hidden" name="groupId" value="#{ResourceGroupUIBean.groupId}"/>


            <rich:togglePanel value="#{UserPreferencesUIBean.leftResourceNavState}" switchType="ajax"
                              stateOrder="closed,tree" id="navTogglePanel" styleClass="atest"
                              style="width: 100%;height: 100%; display: block">

                <f:facet name="closed">
                            <rich:toggleControl panelId="footest" id="test"
                                                style="width: 10px; height: 100%; background-color: #A4B2B9;">

                                <span id="openLeftNav"
                                      style="display: block; width: 10px; height: 800px; background-color: #A4B2B9;">&nbsp;
                                    <h:graphicImage value="/images/icon_right_arrow.gif"/>
                                </span>
                            </rich:toggleControl>
                </f:facet>

                <f:facet name="tree">
                    <f:subview id="treeview">


                        <div style="width: 100%; height: 100%;  background-color: #E1E5EB; "
                             id="leftSpace">


                            <table width="100%" cellpadding="0" cellspacing="0" style="height: 100%">
                                <tr>
                                    <td valign="top">
                                        <ui:include src="/rhq/group/navigation/GroupTree.xhtml"/>
                                    </td>
                                    <td valign="top">

                                        <rich:toggleControl switchToState="closed" id="closeLeftNavLink">

                                            <span id="closeLeftNav"
                                                  style="display: block; width: 10px; height: 800px; background-color: #A4B2B9;">&nbsp;
                                                <h:graphicImage value="/images/icon_down_arrow.gif"/>
                                            </span>

                                        </rich:toggleControl>


                                    </td>
                                </tr>
                            </table>
                        </div>

                    </f:subview>
                </f:facet>
            </rich:togglePanel>
        </h:form>
	</ui:define>

<ui:define name="content">
   <p/>

   <h1>Default Resource Group Content</h1>

   <p/>
</ui:define>
</ui:composition>

THIS TEXT WILL BE REMOVED AS WELL.

</html>
