<?xml version="1.0"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:onf="http://jboss.org/on/function"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

   <h3>Recent Operations</h3>
   <ui:repeat var="item"
              value="#{ResourceOverviewUIBean.recentOOBs}">
      <div style="text-indent: 20px;">

          <h:outputLink value="/resource/common/monitor/Visibility.do">
                      <f:param name="m" value="#{item.definitionId}"/>
                      <f:param name="id" value="#{item.resourceId}"/>
                      <f:param name="mode" value="chartSingleMetricSingleResource" />


                      <h:outputText value="#{item.scheduleName}"/>
          </h:outputLink>
          <h:outputText value=": "/>
          <h:outputText value="${item.factor72}, "/>
          <h:outputText value="${item.formattedOutlier}"/>
          <h:outputText value=" "/>
          <h:outputText value="( ${item.formattedBaseband} )"/>
          <br/>
          <div style="text-indent: 20px;">
            <h:outputText value=" @ "/>
              <h:outputText value="#{item.timestamp}">
                <f:converter converterId="RelativeDurationConverter" />
            </h:outputText>
          </div>
         <br />
      </div>
   </ui:repeat>

   <div style="text-indent: 20px;">
      <h:outputText value="No OOB conditions in the last 72h"
                    rendered="#{onf:sizeOf(ResourceOverviewUIBean.recentOOBs) eq 0}"/>
   </div>

</ui:composition>
