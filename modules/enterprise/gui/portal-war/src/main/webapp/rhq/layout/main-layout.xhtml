<?xml version="1.0"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:a4j="http://richfaces.org/a4j"      
      xmlns:onc="http://jboss.org/on/component"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

<head>
   <title>${msg["product.shortName"]} - #{(!empty pageTitle) ? pageTitle : defaultPageTitle}</title>

   <meta http-equiv="Expires" content="-1"/>
   <meta http-equiv="Pragma" content="no-cache"/>
   <meta http-equiv="Max-Age" content="0"/>
   <meta http-equiv="Cache-Control" content="no-cache"/>
   <ui:insert name="metaHeaders"></ui:insert>

   <link rel="stylesheet" type="text/css" media="screen" href="/css/leftMenu.css"/>
   <link rel="stylesheet" type="text/css" media="screen" href="/css/win.css"/>   
   <link rel="stylesheet" type="text/css" media="screen" href="/css/form-style.css"/>

   <script type="text/javascript" src="/js/functions.js" />
   <script type="text/javascript" src="/js/prototype.js" />
   <script type="text/javascript" src="/js/window.js" />
   <script type="text/javascript" src="/js/effects.js" />
   <!--<script type="text/javascript" src="/js/debug.js" /> -->
   <script type="text/javascript" src="/js/rhq.js" />
   <script type="text/javascript" src="/js/rico.js" />
   <script type="text/javascript" src="/js/popup.js" />

   <link href="/css/theme/default.css" rel="stylesheet" type="text/css"/>
   <link href="/css/theme/alphacube.css" rel="stylesheet" type="text/css"/>
   <link href="/css/theme/debug.css" rel="stylesheet" type="text/css"/>

   <!-- Trims up the headers of RF toggle panel headers -->
   <style type="text/css">
      .BlockTitle { padding-top: 3px; padding-bottom:3px; }
   </style>
   
   <link rel="stylesheet" type="text/css" media="screen" href="/css/tabular.css"/>
   <link rel="stylesheet" type="text/css" media="screen" href="/css/layout.css"/>

   <script type="text/javascript">
      var imagePath = "/images/";
   </script>
   
</head>

<body bgcolor="#FFF" style="height: 100%;">

<ui:remove>
   <!-- Set the content type to "text/html" (overriding the default of "application/xhtml+xml") to force
        Firefox and other Gecko-based browsers to render the page in "Almost Standards" (i.e. transitional) mode. -->
</ui:remove>
<f:view contentType="text/html">

<f:loadBundle basename="ApplicationResources" var="msg"/>

<!-- =================== PAGE HEADER =================== -->

<div id="PageHeader" style="border-bottom: 2px solid #999;">

    <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr valign="bottom">
            <td align="left" rowspan="2">
                <a href="#" onclick="openAbout(aboutWindowTitle)">
                    <img src="/images/logo_header.gif" title="${msg['product.fullName']}"/>
                </a>
            </td>
            <td align="right">
               <map name="redhat-jboss-logo-map">
                  <area href="http://www.redhat.com/" alt="Red Hat Homepage" title="Red Hat" shape="rect" coords="0,0,100,42" />
                  <area href="http://www.jboss.org/" alt="JBoss Homepage" title="JBoss" shape="rect" coords="100,0,200,42" />
               </map>
               <div>
                  <img src="/images/redhat-jboss-logo.gif" usemap="#redhat-jboss-logo-map" />
               </div>
            </td>
       </tr>
       <tr>
            <td align="right">
               <div id="resMenu" class="headerresourcemenu">
                  <a href="/ResourceHub.do?resourceCategory=PLATFORM">${msg["resource.hub.filter.platform"]}</a><br/>
                  <a href="/ResourceHub.do?resourceCategory=SERVER">${msg["resource.hub.filter.server"]}</a><br/>
                  <a href="/ResourceHub.do?resourceCategory=SERVICE">${msg["resource.hub.filter.service"]}</a><br/>
                  <a href="/GroupHub.do?groupCategory=COMPATIBLE">${msg["resource.hub.filter.compatibleGroups"]}</a><br/>
                  <a href="/GroupHub.do?groupCategory=MIXED">${msg["resource.hub.filter.mixedGroups"]}</a><br/>
                  <a href="/rhq/definition/group/list.xhtml">${msg["resource.hub.filter.groupDefinitions"]}</a><br/>
               </div>
               <div id="AppMenu">
                  <h:outputLink value="/Start.do">${msg["header.start.link"]}</h:outputLink>
                  |
                  <h:outputLink value="/Dashboard.do">${msg["dash.home.PageTitle"]}</h:outputLink>
                  |
                  <h:outputLink value="/ResourceHub.do" onmouseover="menuLayers.show('resMenu',event)" onmouseout="menuLayers.hide()">${msg["resource.hub.ResourceHubPageTitle"]}</h:outputLink>
                  |
                  <h:outputLink value="/Admin.do">${msg["admin.admin.AdministrationTitle"]}</h:outputLink>
                  |
                  <h:outputLink
                        onclick="window.open('${helpBaseURL}','help','width=940,height=730,scrollbars=yes,toolbar=yes,left=40,top=40,resizable=yes'); return false;">${msg["header.help.link"]}</h:outputLink>
                  |
                  <script language="JavaScript" type="text/javascript">var aboutWindowTitle = '${msg["about.Title"]}';</script>
                  <a href="#" onclick="openAbout(aboutWindowTitle)">${msg["header.about.link"]}</a>
                  |
                  <h:outputLink value="/Logout.do">${msg["header.logout.link"]}</h:outputLink>
               </div>
            </td>
        </tr>
    </table>

</div>


     <a4j:status id="commonStatus" layout="block"
                startStyle="position: fixed; bottom: 0px; left: 0px; margin-right: auto; margin-left:auto; z-index: 2; filter:alpha(opacity=85); -moz-opacity: 0.85; opacity: 0.85; vertical-align: middle; background-color: #FFFFFF;">
        <f:facet name="start">
            <img src="/images/ajax-loader.gif" alt="" style="vertical-align:middle;" /> <span style="font-size: large; vertical-align: middle;">Loading...</span>
        </f:facet> 
    </a4j:status>

<!-- =================== BODY =================== -->
<ui:insert name="body-area">Default Page Body</ui:insert>

<div id="about" class="dialog" style="display: none; position: absolute; top: 0; left: 0;">
   <div class="DisplayContent" style="margin: 0;">
      <div style="margin:5px">
         <p class="compact">
            <span class="DisplaySubhead">${msg['footer.aboutLink']}</span><br/>
            <span class="DisplayLabel">${msg['footer.version']}: ${msg['product.version']}</span><br/>
            <span class="DisplayLabel">${msg['footer.buildNumber']}: ${msg['product.buildNumber']}</span>
         </p>
         <p class="compact">
            <f:verbatim>${msg['footer.copyright']}</f:verbatim> ${msg['about.Copyright.Content']}
         </p>
         <p class="compact">
            ${msg['about.MoreInfo.Label']}<br/>
            <a href="mailto:${msg['about.MoreInfo.LinkSales']}">${msg['about.MoreInfo.LinkSales']}</a><br/>
            <a href="mailto:${msg['about.MoreInfo.LinkSupport']}">${msg['about.MoreInfo.LinkSupport']}</a>
         </p>
      </div>
   </div>
</div>

<!-- work-around to enable us to embed richfaces components inside the onc:simpleTrigger; 
     without this, the page will throw a javascript error "{blah} is not defined" or 
     "{yadda} is not a constructor", and the pop-up action will not work -->
<rich:calendar rendered="false" />
<rich:inputNumberSpinner rendered="false" />

</f:view>

<script type="text/javascript">
    function maxContentWidth(){
        var contentDiv = document.getElementById("content");
        if (contentDiv != null) {
            var remainder = document.documentElement.clientWidth - 225;
            contentDiv.style.width = remainder + "px";
        }
    }
    addWindowsOnLoadEvent(maxContentWidth);
    addWindowsOnLoadEvent(disableConditionalButtons);
    window.onresize = maxContentWidth;
</script>

</body>
</html>
