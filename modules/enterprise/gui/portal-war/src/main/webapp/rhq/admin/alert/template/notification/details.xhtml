<?xml version="1.0"?>

<!DOCTYPE html
      PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:onc="http://jboss.org/on/component"
      xmlns:onf="http://jboss.org/on/function"
      xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich">

<ui:composition template="/rhq/layout/main.xhtml">

   <ui:param name="pageTitle" value="Alert Notification Template Details"/>
   
    <ui:define name="breadcrumbs">
       <h:outputLink value="/rhq/admin/alert/template/notification/list.xhtml">
          <h:outputText value="Alert Notification Templates" />
       </h:outputLink>
       <h:outputText value=" &gt; " />
       <h:outputLink value="/rhq/admin/alert/template/notification/details.xhtml">
             <f:param name="templateId" value="#{AlertNotificationTemplateDetailsUIBean.template.id}" />
             <f:param name="mode" value="view" />
             <h:outputText value="Details for '#{AlertNotificationTemplateDetailsUIBean.template.name}'" />
       </h:outputLink>
    </ui:define>
    
   <ui:define name="body">

      <ui:param name="mode" value="#{param.mode}" />

      <br/>
      <h:messages showDetail="true"
                  globalOnly="true"
                  infoClass="InfoBlock"
                  warnClass="WarnBlock"
                  errorClass="ErrorBlock"
                  fatalClass="FatalBlock"
                  layout="table" />

      <h:form id="alertNotificationTemplateDetailsForm">
      
         <input type="hidden" name="templateId" value="#{param.templateId}" />
         <input type="hidden" name="mode" value="#{param.mode}" />

         <rich:panel>
            <f:facet name="header">
               General Properties
            </f:facet>
            <table width="100%>
              <tr>
                <td align="right" width="20%"><b>Name<span class="required-marker-text">*</span>:</b></td>
                <td align="left">
                   <h:inputText rendered="${mode eq 'edit'}" value="#{AlertNotificationTemplateDetailsUIBean.template.name}" /> 
                   <h:outputText rendered="${mode ne 'edit'}" value="#{AlertNotificationTemplateDetailsUIBean.template.name}" />
                </td>
              </tr>
              <tr>
                <td align="right"><b>Description:</b></td>
                <td align="left">
                   <h:inputText rendered="${mode eq 'edit'}" value="#{AlertNotificationTemplateDetailsUIBean.template.description}" /> 
                   <h:outputText rendered="${mode ne 'edit'}" value="#{AlertNotificationTemplateDetailsUIBean.template.description}" />
                </td>
              </tr>
              <tr>
                <td align="right"><b>Date Created:</b></td>
                <td align="left"> 
                   <h:outputText value="#{AlertNotificationTemplateDetailsUIBean.template.ctime}">
                      <f:converter converterId="UserDateTimeConverter" />
                   </h:outputText>
                </td>
              </tr>
              <tr>
                <td align="right"><b>Last Modified:</b></td>
                <td align="left"> 
                   <h:outputText value="#{AlertNotificationTemplateDetailsUIBean.template.mtime}">
                      <f:converter converterId="UserDateTimeConverter" />
                   </h:outputText>
                </td>
              </tr>
           </table>
           <h:panelGroup layout="block">
              <h:panelGrid columns="3" styleClass="buttons-table" columnClasses="button-cell" >
                 <h:commandButton action="#{AlertNotificationTemplateDetailsUIBean.edit}" 
                                  value="EDIT" styleClass="buttonmed" id="editPropertiesButton"
                                  rendered="${mode ne 'edit'}"/>
                 <h:commandButton action="#{AlertNotificationTemplateDetailsUIBean.save}" 
                                  value="SAVE" styleClass="buttonmed" id="saveButton"
                                  rendered="${mode eq 'edit'}"/>
                 <h:commandButton action="#{AlertNotificationTemplateDetailsUIBean.cancel}" 
                                  value="CANCEL" styleClass="buttonmed" id="cancelButton" immediate="true" 
                                  rendered="${mode eq 'edit'}"/>
              </h:panelGrid>
           </h:panelGroup>
         </rich:panel>
         <br/>
         <rich:panel rendered="${mode ne 'edit'}">
            <f:facet name="header">
               Notification Actions
            </f:facet>
            <table width="100%>
              <tr>
                <td align="right" width="20%"><b>Sender Info:</b></td>
                <td align="left"> 
                   <h:outputText value="#{AlertNotificationTemplateDetailsUIBean.notificationCount} " />
                   <h:outputText value="${msg['alert.current.detail.notify.Message']}" />
                </td>
              </tr>
           </table>
           <h:panelGroup layout="block">
              <h:panelGrid columns="3" styleClass="buttons-table" columnClasses="button-cell" >
                 <h:commandButton action="#{AlertNotificationTemplateDetailsUIBean.editNotifications}" 
                                  value="EDIT" styleClass="buttonmed" id="editNotificationsButton" />
              </h:panelGrid>
           </h:panelGroup>
         </rich:panel>
         
         <ui:remove>
         <ui:include src="/rhq/common/alert/notification/details.xhtml"
                     rendered="${mode eq 'edit'}">
            <ui:param name="redirect" value="/rhq/admin/alert/template/notification/details.xhtml?mode=view&amp;templateId=#{param.templateId}" />
         </ui:include>
         </ui:remove>

    </h:form>

   </ui:define>

</ui:composition>

</html>
