<?xml version="1.0" encoding="UTF-8"?>
<datasources
  xmlns="http://www.jboss.org/ironjacamar/schema"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
        http://www.jboss.org/ironjacamar/schema
        http://docs.jboss.org/ironjacamar/schema/datasources_1_0.xsd">

  <xa-datasource
    jndi-name="java:jboss/datasources/RHQDS"
    pool-name="RHQDS"
    enabled="true"
    use-java-context="true">

    <xa-datasource-property name="DatabaseName">${rhq.server.database.db-name:rhq}</xa-datasource-property>
    <xa-datasource-property name="PortNumber">${rhq.server.database.port:5432}</xa-datasource-property>
    <xa-datasource-property name="ServerName">${rhq.server.database.server-name:127.0.0.1}
    </xa-datasource-property>
    <driver>postgres</driver>
    <transaction-isolation>TRANSACTION_READ_COMMITTED</transaction-isolation>
    <xa-pool>
      <min-pool-size>5</min-pool-size>
      <max-pool-size>50</max-pool-size>
    </xa-pool>
    <security>
      <security-domain>RHQDSSecurityDomain</security-domain>
    </security>
    <validation>
      <valid-connection-checker class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLValidConnectionChecker" />
      <exception-sorter class-name="org.jboss.jca.adapters.jdbc.extensions.postgres.PostgreSQLExceptionSorter" />
    </validation>
    <timeout>
      <blocking-timeout-millis>30000</blocking-timeout-millis>
      <idle-timeout-minutes>15</idle-timeout-minutes>
    </timeout>
    <statement>
      <prepared-statement-cache-size>75</prepared-statement-cache-size>
    </statement>
  </xa-datasource>

</datasources>